{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Users/users.module.scss","components/Header/Header.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Dialogs/Message/Message.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Navbar/Navbar.module.css","reportWebVitals.ts","components/Navbar/Navbar.tsx","api/api.ts","redux/users-reducer.tsx","components/Users/Users.tsx","assets/images/userImage.png","assets/images/preloader.svg","components/common/Preloader/Preloader.tsx","redux/selectors..ts","components/Users/UsersContainer.tsx","components/Header/Header.tsx","redux/auth-reducer.tsx","components/Header/HeaderContainer.tsx","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Message/Message.tsx","redux/dialogs-reducer.tsx","components/Dialogs/Dialogs.tsx","hoc/WithAuthRedirect.tsx","components/Profile/ProfileInfo/ProfileStatus.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/MyPosts/Post/Post.tsx","redux/profile-reducer.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Login/Login.tsx","App.tsx","redux/redux-store.tsx","index.tsx"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","s","nav","item","active","to","activeClassName","activeLink","instance","axios","create","baseURL","withCredentials","headers","usersAPI","currentPage","pageSize","get","response","data","id","post","delete","userId","authAPI","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","initialState","users","totalUsersCount","isFetching","followingInProgress","toggleIsFetching","type","toggleIsFollowing","getUsers","dispatch","getState","items","totalCount","getUnfollow","resultCode","unfollow","getFollow","follow","Users","props","useDispatch","thunkDispatch","pagesCount","Math","ceil","pages","i","push","map","p","styles","selectedPage","onClick","onPageChanged","u","src","photos","small","photo","alt","followed","disabled","some","name","status","Preloader","preloader","dialogsPage","state","dialogPage","auth","profilePage","usersPage","UsersContainer","useSelector","useEffect","pageNumber","Header","header","loginBlock","isAuth","login","SET_USER_DATA","email","getAuthUserData","setAuthUserData","HeaderContainer","DialogItem","path","dialog","Message","message","UPDATE_NEW_MESSAGE_BODY","SEND_MESSAGE","messages","dialogs","newMessageBody","Dialogs","dialogsElements","d","messagesElements","m","dialogs_items","messageInput","area","onChange","e","body","target","value","updateNewMessageBodyCreator","placeholder","button","compose","Component","ProfileStatus","useState","editMode","setEditMode","toggleEditMode","onDoubleClick","autoFocus","onBlur","ProfileInfo","profile","descriptionBlock","large","fullName","aboutMe","lookingForAJobDescription","Post","likesCount","ADD_POST","UPDATE_NEW_POST_TEXT","SET_USER_PROFILE","posts","newPostText","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","lookingForAJob","getUserProfile","MyPosts","postsElements","newPostElement","React","createRef","postsBlock","text","current","newText","ref","Profile","withRouter","match","params","Login","App","render","rootReducer","combineReducers","action","newPost","filter","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.1df3b33c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__27klC\",\"dialogs_items\":\"Dialogs_dialogs_items__1cEKB\",\"active\":\"Dialogs_active__2efki\",\"messages\":\"Dialogs_messages__2pC6A\",\"message\":\"Dialogs_message__nqCMT\",\"messageInput\":\"Dialogs_messageInput__1xHAQ\",\"area\":\"Dialogs_area__1CfPt\",\"button\":\"Dialogs_button__2wd_0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo\":\"users_photo__3PE1M\",\"selectedPage\":\"users_selectedPage__3t3dP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__170sZ\",\"loginBlock\":\"Header_loginBlock__gEZqQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2ePw8\",\"posts\":\"MyPosts_posts__ySjF9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Message_dialog__iEyrs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2W0PG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3Mw7j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3WU45\",\"item\":\"Navbar_item__jhPfD\",\"activeLink\":\"Navbar_activeLink__154s7\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './Navbar.module.css';\r\n\r\n\r\nexport const Navbar: React.FC = () => {\r\n\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/dialogs' activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY':'8dabf8d5-133c-401a-b761-a0dd6d5b8f9a'\r\n    },\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage:number = 1, pageSize: number = 10)  {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data)\r\n    },\r\n    follow(id: number){\r\n        return instance.post(`follow/${id}`)\r\n    },\r\n    unfollow(id: number){\r\n        return instance.delete(`follow/${id}`)\r\n    },\r\n    getProfile(userId: string){\r\n      return instance.get(`profile/` + userId)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    }\r\n}\r\n\r\n\r\n\r\n","import {usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {AppStateType} from \"./redux-store\";\r\n\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nexport type usersReducerActionsTypes = ReturnType<typeof follow>\r\n    | ReturnType<typeof unfollow>\r\n    | ReturnType<typeof setUsers>\r\n    | ReturnType<typeof setCurrentPage>\r\n    | ReturnType<typeof setTotalUsersCount>\r\n    | ReturnType<typeof toggleIsFetching>\r\n    | ReturnType<typeof toggleIsFollowing>\r\n\r\n\r\nexport type usersType = {\r\n    users: Array<userType>,\r\n    pageSize: number,\r\n    totalUsersCount: number,\r\n    currentPage: number,\r\n    isFetching: boolean,\r\n    followingInProgress: Array<number>,\r\n}\r\n\r\nexport type userType = {\r\n    id: number,\r\n    photos: photosType,\r\n    name: string,\r\n    status: string,\r\n    followed: boolean,\r\n    location: userLocationType,\r\n}\r\n\r\nexport type photosType = {\r\n    small?: string,\r\n    large?: string\r\n}\r\n\r\nexport type userLocationType = {\r\n    country: string,\r\n    city: string,\r\n}\r\n\r\nlet initialState: usersType = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [2,3],\r\n}\r\n\r\nexport const usersReducer = (state: usersType = initialState, action: usersReducerActionsTypes) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId] :\r\n                    state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const follow = (userId: number) => ({type: FOLLOW, userId} as const)\r\nexport const unfollow = (userId: number) => ({type: UNFOLLOW, userId} as const)\r\nexport const setUsers = (users: Array<userType>) => ({type: SET_USERS, users} as const)\r\nexport const setCurrentPage = (currentPage: number) => ({type: SET_CURRENT_PAGE, currentPage} as const)\r\nexport const setTotalUsersCount = (totalUsersCount: number) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount} as const)\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: TOGGLE_IS_FETCHING, isFetching} as const)\r\nexport const toggleIsFollowing = (isFetching: boolean, userId: number) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching, userId\r\n} as const)\r\n\r\ntype DispatchType = Dispatch<usersReducerActionsTypes>\r\ntype GetStateType = () => AppStateType\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number) => {\r\n    return (dispatch: DispatchType, getState: GetStateType) => {\r\n        dispatch(toggleIsFetching(true));\r\n        usersAPI.getUsers(currentPage, pageSize).then(data => {\r\n            dispatch(toggleIsFetching(false));\r\n            dispatch(setUsers(data.items))\r\n            dispatch(setTotalUsersCount(data.totalCount))\r\n        })\r\n    }\r\n}\r\n\r\nexport const getUnfollow = (userId: number) => {\r\n    return (dispatch: DispatchType, getState: GetStateType) => {\r\n        dispatch(toggleIsFollowing(true, userId))\r\n        usersAPI.unfollow(userId).then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(unfollow(userId))\r\n            }\r\n            dispatch(toggleIsFollowing(false, userId))\r\n        })\r\n    }\r\n};\r\n\r\nexport const getFollow = (userId: number) => {\r\n    return (dispatch: DispatchType, getState: GetStateType) => {\r\n        dispatch(toggleIsFollowing(true, userId))\r\n        usersAPI.follow(userId).then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(follow(userId))\r\n            }\r\n            dispatch(toggleIsFollowing(false, userId))\r\n        })\r\n    }\r\n}","import React from \"react\";\r\nimport styles from \"./users.module.scss\";\r\nimport userPhoto from \"../../assets/images/userImage.png\";\r\nimport {getFollow, getUnfollow, usersReducerActionsTypes, userType} from \"../../redux/users-reducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Dispatch} from \"redux\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\n\r\n\r\nexport type UsersType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    users: Array<userType>\r\n    followingInProgress: Array<number>\r\n    onPageChanged: (pageNumber: number) => void\r\n}\r\n\r\nexport const Users: React.FC<UsersType> = (props) => {\r\n\r\n    const dispatch = useDispatch<Dispatch<usersReducerActionsTypes>>()\r\n\r\n    type appDispatch = ThunkDispatch<AppStateType,any,usersReducerActionsTypes>\r\n\r\n    const thunkDispatch: appDispatch = useDispatch();\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                {pages.map(p => <span className={props.currentPage === p ? styles.selectedPage : ''}\r\n                                      onClick={() => {\r\n                                          props.onPageChanged(p)\r\n                                      }}>{p}</span>)}\r\n            </div>\r\n            {props.users.map((u =>\r\n                <div key={u.id}>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + u.id}>\r\n                        <img src={u.photos.small !== null ? u.photos.small : userPhoto} className={styles.photo}\r\n                             alt={'avatar'}/>\r\n                    </NavLink>\r\n\r\n                </div>\r\n                <div>\r\n                    {u.followed ? <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                          onClick={() => {thunkDispatch(getUnfollow(u.id))}}>Unfollow</button>\r\n                        : <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                  onClick={() => {thunkDispatch(getFollow(u.id))}}>Follow</button>}\r\n                </div>\r\n            </span>\r\n                    <span>\r\n                <span>\r\n                    <div>{u.name}</div>\r\n                    <div>{u.status}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{'u.location.country'}</div>\r\n                    <div>{'u.location.city'}</div>\r\n                </span>\r\n            </span>\r\n                </div>))}\r\n        </div>\r\n    )\r\n}","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/preloader.b767aab4.svg\";","import React from \"react\";\r\nimport preloader from \"../../../assets/images/preloader.svg\";\r\n\r\nexport const Preloader: React.FC = () => {\r\n    return <div>\r\n        <img src={preloader}/>\r\n    </div>\r\n}","import {AppStateType} from \"./redux-store\";\r\n\r\nexport const dialogsPage = (state: AppStateType) => state.dialogPage\r\nexport const auth = (state: AppStateType) => state.auth\r\nexport const profilePage = (state: AppStateType) => state.profilePage\r\nexport const usersPage = (state: AppStateType) => state.usersPage\r\n","import React, {useEffect} from \"react\";\r\nimport {connect, useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {\r\n    follow, getFollow, getUnfollow, getUsers,\r\n    setCurrentPage,\r\n    unfollow, usersReducerActionsTypes,\r\n    userType\r\n} from \"../../redux/users-reducer\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../common/Preloader/Preloader\";\r\nimport {usersPage} from \"../../redux/selectors.\";\r\nimport {Dispatch} from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\n\r\n\r\ntype MapStateToPropsType = {\r\n    users: Array<userType>,\r\n    pageSize: number,\r\n    totalUsersCount: number,\r\n    currentPage: number,\r\n    isFetching: boolean,\r\n    followingInProgress: Array<number>,\r\n}\r\n\r\n// type MapDispatchToPropsType = {\r\n//     follow: (userId: number) => void\r\n//     unfollow: (userId: number) => void\r\n//     setUsers: (users: Array<userType>) => void\r\n//     setCurrentPage: (pageNumber: number) => void\r\n//     setTotalUsersCount: (totalCount: number) => void\r\n//     toggleIsFetching: (isFetching: boolean, userId: number) => void\r\n//     getFollow: (userId: number) => void\r\n//     getUnfollow: (userId: number) => void\r\n// }\r\n\r\n//export type UsersPropsType = MapStateToPropsType & MapDispatchToPropsType;\r\n\r\nexport const UsersContainer: React.FC = () => {\r\n\r\n    const {\r\n        users,\r\n        pageSize,\r\n        totalUsersCount,\r\n        currentPage,\r\n        isFetching,\r\n        followingInProgress,\r\n    } = useSelector(usersPage)\r\n\r\n    type appDispatch = ThunkDispatch<AppStateType,any,usersReducerActionsTypes>\r\n\r\n    const thunkDispatch: appDispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        thunkDispatch(getUsers(currentPage, pageSize))\r\n    },[])\r\n\r\n    const onPageChanged = (pageNumber: number) => {\r\n        thunkDispatch(getUsers(pageNumber, pageSize))\r\n    }\r\n\r\n\r\n        return <>\r\n            {isFetching ?\r\n                <Preloader/> : null}\r\n            <Users totalUsersCount={totalUsersCount}\r\n                   pageSize={pageSize}\r\n                   currentPage={currentPage}\r\n                   users={users}\r\n                   onPageChanged={onPageChanged}\r\n                   followingInProgress={followingInProgress}\r\n\r\n                   // follow={this.props.follow}\r\n                   // unfollow={this.props.unfollow}\r\n                   // toggleIsFollowing={this.props.toggleIsFollowing}\r\n                   //\r\n                   // getFollow={this.props.getFollow}\r\n                   // getUnfollow={this.props.getUnfollow}\r\n            />\r\n        </>\r\n\r\n\r\n}\r\n\r\n// const mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n//     return {\r\n//         users: state.usersPage.users,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.followingInProgress,\r\n//\r\n//     }\r\n// }\r\n\r\n// const maDispatchToProps = (dispatch: Dispatch): MapDispatchToPropsType => {\r\n//     return {\r\n//         follow: (userId: number) => {\r\n//             dispatch(followAC(userId))\r\n//         },\r\n//         unfollow: (userId: number) => {\r\n//             dispatch(unfollowAC(userId))\r\n//         },\r\n//         setUsers: (users: Array<userType>) => {\r\n//             dispatch(setUsersAC(users))\r\n//         },\r\n//         setCurrentPage: (pageNumber: number) => {\r\n//             dispatch(setCurrentPageAC(pageNumber))\r\n//         },\r\n//         setTotalUsersCount: (totalCount: number) => {\r\n//             dispatch(setTotalUsersCountAC(totalCount))\r\n//         },\r\n//         toggleIsFetching: (isFetching: boolean) => {\r\n//             dispatch(toggleIsFetchingAC(isFetching))\r\n//         }\r\n//     }\r\n// }\r\n\r\n// export default connect(mapStateToProps, {\r\n//     follow,\r\n//     unfollow,\r\n//     setCurrentPage,\r\n//     getUsers,\r\n//     getFollow,\r\n//     getUnfollow,\r\n// })(UsersContainer)","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './Header.module.css';\r\n\r\ntype HeaderPropsType = {\r\n    login: string,\r\n    isAuth: boolean\r\n}\r\n\r\nconst Header: React.FC<HeaderPropsType> = (props) => {\r\n\r\n    return (\r\n        <header className={s.header}>\r\n            <img\r\n                src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQI5vFX9tv64JjrobsjPi_62hz5WBWU0FXjfA&usqp=CAU\"\r\n                alt=\"\"/>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth ? props.login : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import {authAPI} from \"../api/api\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nexport type authReducerActionsTypes = ReturnType<typeof setAuthUserData>\r\n\r\nexport type authType = {\r\n    id: number,\r\n    email: string,\r\n    login: string\r\n    isAuth: boolean\r\n}\r\n\r\nlet initialState: authType = {\r\n    id: 2,\r\n    email: 'blabla@bla.bla',\r\n    login: 'samurai',\r\n    isAuth: false,\r\n}\r\n\r\nexport const authReducer = (state: authType = initialState, action: authReducerActionsTypes) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n                isAuth: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (id: number, email: string, login: string) => ({\r\n    type: SET_USER_DATA, data: {\r\n        id,\r\n        email,\r\n        login\r\n    }\r\n\r\n} as const)\r\n\r\nexport const getAuthUserData = () => (dispatch: any) => {\r\n    authAPI.me().then(response => {\r\n        if(response.data.resultCode === 0) {\r\n            let {id, email,login} = response.data.data;\r\n            dispatch(setAuthUserData(id, email, login))\r\n        }\r\n    });\r\n}\r\n\r\n\r\n","import React, {useEffect} from \"react\";\r\nimport Header from \"./Header\";\r\nimport {authReducerActionsTypes, getAuthUserData} from \"../../redux/auth-reducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {auth} from \"../../redux/selectors.\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\ntype AppDispatch = ThunkDispatch<AppStateType, any, authReducerActionsTypes>\r\n\r\nexport const HeaderContainer: React.FC = () => {\r\n\r\n    const dispatch:AppDispatch = useDispatch();\r\n\r\n    const {\r\n        isAuth,\r\n        login,\r\n    } = useSelector(auth)\r\n\r\n    useEffect(() => {\r\n        dispatch(getAuthUserData())\r\n    }, [])\r\n\r\n    return (\r\n        <Header login={login} isAuth={isAuth}/>\r\n    );\r\n}\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './../Dialogs.module.css';\r\n\r\ntype dialogItemPropsType = {\r\n    name: string,\r\n    id: number\r\n}\r\n\r\nexport const DialogItem: React.FC<dialogItemPropsType> = (props) => {\r\n\r\n    let path = '/dialogs/' + props.id\r\n\r\n    return (\r\n        <div className={s.dialog + ' ' + s.active}>\r\n            <NavLink to={path}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport s from './Message.module.css'\r\n\r\n\r\ntype messagePropsType = {\r\n    message: string\r\n}\r\n\r\nexport const Message: React.FC<messagePropsType> = (props) => {\r\n    return (\r\n        <div className={s.dialog}>\r\n            {props.message}\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\n\r\n","import {addPostAC, updateNewPostTextAC} from \"./profile-reducer\";\r\n\r\nconst UPDATE_NEW_MESSAGE_BODY = 'UPDATE_NEW_MESSAGE_BODY';\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nexport type ActionsTypes = ReturnType<typeof addPostAC>\r\n    | ReturnType<typeof updateNewPostTextAC>\r\n    | ReturnType<typeof sendMessageCreator>\r\n    | ReturnType<typeof updateNewMessageBodyCreator>\r\n\r\nexport type DialogPageType = {\r\n    messages: Array<MessageType>,\r\n    dialogs: Array<DialogType>,\r\n    newMessageBody: string,\r\n}\r\nexport type MessageType = {\r\n    id: number,\r\n    message: string,\r\n}\r\nexport type DialogType = {\r\n    id: number,\r\n    name: string,\r\n}\r\n\r\n\r\nlet initialState: DialogPageType = {\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How are you?'},\r\n        {id: 3, message: 'I want to work'},\r\n        {id: 4, message: \"I'm fine\"},\r\n        {id: 5, message: \"It's god!\"},\r\n    ],\r\n    dialogs: [\r\n        {id: 1, name: 'Dimuch'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Zina'},\r\n        {id: 4, name: 'Ira'},\r\n        {id: 5, name: 'Marat'},\r\n    ],\r\n    newMessageBody: '',\r\n}\r\n\r\nexport const dialogsReducer = (state: DialogPageType = initialState, action: ActionsTypes): DialogPageType => {\r\n\r\n\r\n    switch (action.type) {\r\n        case UPDATE_NEW_MESSAGE_BODY:\r\n            return {\r\n                ...state,\r\n                newMessageBody: action.body,\r\n            };\r\n        case SEND_MESSAGE:\r\n            let body = state.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body}],\r\n                newMessageBody: '',\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = () => ({type: SEND_MESSAGE} as const);\r\nexport const updateNewMessageBodyCreator = (body: string) => ({type: UPDATE_NEW_MESSAGE_BODY, body: body} as const);","import React, {ChangeEvent} from \"react\";\r\nimport s from './Dialogs.module.css'\r\nimport {DialogItem} from \"./DialogItem/DialogItem\";\r\nimport {Message} from \"./Message/Message\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {compose, Dispatch} from \"redux\";\r\nimport {ActionsTypes, sendMessageCreator, updateNewMessageBodyCreator} from \"../../redux/dialogs-reducer\";\r\nimport {dialogsPage} from \"../../redux/selectors.\";\r\nimport {WithAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\n\r\n\r\nexport const Dialogs: React.FC = () => {\r\n\r\n    const dispatch = useDispatch<Dispatch<ActionsTypes>>()\r\n\r\n    const {\r\n        messages,\r\n        dialogs,\r\n        newMessageBody,\r\n    } = useSelector(dialogsPage)\r\n\r\n\r\n    let onSendMessageClick = () => {\r\n        dispatch(sendMessageCreator())\r\n    }\r\n\r\n    let onNewMessageChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n        let body = e.target.value;\r\n        dispatch(updateNewMessageBodyCreator(body));\r\n    }\r\n\r\n    let dialogsElements = dialogs.map((d: { name: string; id: number; }) => <DialogItem name={d.name} key={d.id}\r\n                                                                                        id={d.id}/>)\r\n    let messagesElements = messages.map((m: { message: string; }) => <Message message={m.message}/>)\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.dialogs}>\r\n                <div className={s.dialogs_items}>\r\n                    {dialogsElements}\r\n                </div>\r\n                <div className={s.messages}>\r\n                    {messagesElements}\r\n                </div>\r\n            </div>\r\n            <div className={s.messageInput}>\r\n                <textarea className={s.area}\r\n                          onChange={onNewMessageChange}\r\n                          value={newMessageBody}\r\n                          placeholder='Enter your message...'\r\n                >\r\n                </textarea>\r\n                <button className={s.button} onClick={onSendMessageClick}>Send</button>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default compose<React.ComponentType>(WithAuthRedirect)(Dialogs);\r\n\r\n","import {Redirect} from \"react-router-dom\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {auth} from \"../redux/selectors.\";\r\nimport React, {ComponentType} from \"react\";\r\n\r\nexport function WithAuthRedirect  <T>(Component: ComponentType<T>)  {\r\n\r\n    let RedirectComponent:React.FC = (props) => {\r\n\r\n        const {\r\n            isAuth\r\n        } = useSelector(auth)\r\n\r\n        if (!isAuth) return <Redirect to={'/login'}/>\r\n        return <Component {...props as T}/>\r\n    }\r\n\r\n    return RedirectComponent\r\n}","import React, {useState} from \"react\";\r\n\r\ntype ProfileStatusType = {\r\n    status: string\r\n}\r\n\r\nexport const ProfileStatus: React.FC<ProfileStatusType> = (props) => {\r\n\r\n    const [editMode, setEditMode] = useState(false);\r\n\r\n    const toggleEditMode = () => {\r\n        setEditMode(!editMode)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div>\r\n                    <span onDoubleClick={toggleEditMode}>{props.status}</span>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <input autoFocus={true} onBlur={toggleEditMode} type=\"text\" value={props.status}/>\r\n                </div>\r\n            }\r\n        </div>\r\n\r\n    )\r\n}","import React from \"react\";\r\nimport s from './ProfileInfo.module.css';\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\nimport {ProfileType} from \"../../../redux/profile-reducer\";\r\nimport {ProfileStatus} from \"./ProfileStatus\";\r\n\r\ntype ProfileInfoType = {\r\n    profile: ProfileType,\r\n}\r\n\r\n\r\nconst ProfileInfo:React.FC<ProfileInfoType> = (props) => {\r\n\r\n    if(!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div>\r\n            <div>\r\n                <img src=\"https://images.unsplash.com/photo-1500622944204-b135684e99fd?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8bmF0dXJhbHxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&w=1000&q=80\" alt=\"\"/>\r\n            </div>\r\n            <div className={s.descriptionBlock}>\r\n                <img src={props.profile.photos.large} />\r\n                <br/>\r\n                <ProfileStatus status={\"any status\"}/>\r\n                <p><b>Имя:</b> {props.profile.fullName}</p>\r\n                <p><b>Обо мне:</b> {props.profile.aboutMe}</p>\r\n                <p><b>Что ищу:</b> {props.profile.lookingForAJobDescription}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n        ;\r\n}\r\n\r\n\r\n\r\nexport default ProfileInfo;","import React from \"react\";\r\nimport s from './Post.module.css';\r\n\r\ntype postPropsType = {\r\n    message:string,\r\n    likesCount: number\r\n}\r\n\r\nconst Post = (props:postPropsType) => {\r\n\r\n    return (\r\n        <div className={s.item}>\r\n            <img src=\"https://www.vokrug.tv/pic/news/5/f/c/2/rsz300x300_5fc2879465129c11d65749ab9e3db7cc.jpg\" alt=\"\"/>\r\n            {props.message}\r\n            <div>\r\n                <span>like {props.likesCount}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import {sendMessageCreator, updateNewMessageBodyCreator} from \"./dialogs-reducer\";\r\nimport {usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {AppStateType} from \"./redux-store\";\r\n\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\n\r\nexport type ProfileActionsTypes = ReturnType<typeof addPostAC>\r\n    | ReturnType<typeof updateNewPostTextAC>\r\n    | ReturnType<typeof sendMessageCreator>\r\n    | ReturnType<typeof updateNewMessageBodyCreator>\r\n    | ReturnType<typeof setUserProfile>\r\n\r\nexport type ProfilePageType = {\r\n    posts: Array<PostType>,\r\n    newPostText: string,\r\n    profile: ProfileType,\r\n}\r\nexport type PostType = {\r\n    id: number,\r\n    message: string,\r\n    likesCount: number,\r\n}\r\nexport type ProfileType = {\r\n    aboutMe: \"\",\r\n    contacts: {\r\n        facebook: \"\",\r\n        website: null,\r\n        vk: \"\",\r\n        twitter: \"\",\r\n        instagram: \"\",\r\n        youtube: null,\r\n        github: \"\",\r\n        mainLink: null\r\n    },\r\n    lookingForAJob: true,\r\n    lookingForAJobDescription: \"\",\r\n    fullName: \"\",\r\n    userId: \"\",\r\n    photos: {\r\n        small: \"\",\r\n        large: \"\"\r\n    }\r\n}\r\nlet initialState: ProfilePageType = {\r\n    posts: [\r\n        {id: 1, message: \"Hello everybody!!!)\", likesCount: 12},\r\n        {id: 2, message: \"Yeah!\", likesCount: 16},\r\n        {id: 3, message: \"Zzzzz...\", likesCount: 2},\r\n        {id: 4, message: \"You're interesting man but I want to sleep\", likesCount: 10},\r\n        {id: 5, message: \"It's my first post\", likesCount: 22},\r\n    ],\r\n    newPostText: 'it-camasutra.com',\r\n    profile: {\r\n        aboutMe: \"\",\r\n        contacts: {\r\n            facebook: \"\",\r\n            website: null,\r\n            vk: \"\",\r\n            twitter: \"\",\r\n            instagram: \"\",\r\n            youtube: null,\r\n            github: \"\",\r\n            mainLink: null\r\n        },\r\n        lookingForAJob: true,\r\n        lookingForAJobDescription: \"\",\r\n        fullName: \"\",\r\n        userId: \"\",\r\n        photos: {\r\n            small: \"\",\r\n            large: \"\"\r\n        }\r\n    },\r\n}\r\n\r\nexport const profileReducer = (state: ProfilePageType = initialState, action: ProfileActionsTypes):ProfilePageType => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 5,\r\n                message: state.newPostText,\r\n                likesCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: '',\r\n            };\r\n        case UPDATE_NEW_POST_TEXT:\r\n            return {\r\n                ...state,\r\n                newPostText: action.newText,\r\n            }\r\n            case SET_USER_PROFILE:\r\n\r\n            return {\r\n                ...state,profile: action.profile\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostAC = () => ({type: ADD_POST} as const);\r\nexport const updateNewPostTextAC = (newText: string) => ({type: UPDATE_NEW_POST_TEXT, newText} as const);\r\nconst setUserProfile = (profile: any) => ({type: SET_USER_PROFILE, profile} as const);\r\n\r\ntype DispatchType = Dispatch<ProfileActionsTypes>\r\ntype GetStateType = () => AppStateType\r\n\r\nexport const getUserProfile = (userId: string) => (dispatch: DispatchType, getState: GetStateType) => {\r\n\r\n    usersAPI.getProfile(userId).then(response => {\r\n        dispatch(setUserProfile(response.data))\r\n    })\r\n\r\n}","import React from \"react\";\r\nimport s from './MyPosts.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport {AppStateType} from \"../../../redux/redux-store\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Dispatch} from \"redux\";\r\nimport {addPostAC, ProfileActionsTypes, updateNewPostTextAC} from \"../../../redux/profile-reducer\";\r\n\r\n\r\n\r\n\r\nconst MyPosts: React.FC = () => {\r\n\r\n    const state = (state:AppStateType) => state.profilePage\r\n\r\n    const {\r\n        posts,\r\n        newPostText\r\n    } = useSelector(state)\r\n\r\n    const dispatch = useDispatch<Dispatch<ProfileActionsTypes>>()\r\n\r\n    let postsElements = posts.map((p: { message: string; likesCount: number; }) => <Post message={p.message}\r\n                                                                                               likesCount={p.likesCount}/>)\r\n    let newPostElement: any = React.createRef();\r\n\r\n    let onAddPost = () => {\r\n        dispatch(addPostAC());\r\n    }\r\n\r\n    let onPostChange = () => {\r\n        let text = newPostElement.current.value;\r\n        dispatch(updateNewPostTextAC(text));\r\n    }\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <div>\r\n                <textarea onChange={onPostChange} ref={newPostElement} value={newPostText}/>\r\n            </div>\r\n            <button onClick={onAddPost}>Add Post</button>\r\n            <div>\r\n                <h3>New post</h3>\r\n            </div>\r\n            <div className={s.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MyPosts;","import React from \"react\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport {ProfileType} from \"../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts/MyPosts\";\r\n\r\n\r\nexport type ProfileCType = {\r\n    profile: ProfileType\r\n}\r\n\r\n\r\nexport const Profile: React.FC<ProfileCType> = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile}/>\r\n            <MyPosts/>\r\n        </div>\r\n    );\r\n};","import React, {useEffect} from \"react\";\r\nimport {Profile} from \"./Profile\";\r\nimport {getUserProfile, ProfileActionsTypes} from \"../../redux/profile-reducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {profilePage} from \"../../redux/selectors.\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\nimport {WithAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\ntype AppDispatch = ThunkDispatch<AppStateType, any, ProfileActionsTypes>;\r\n\r\ntype PathParamType = {\r\n    userId: string\r\n}\r\ntype PropsType = RouteComponentProps<PathParamType>\r\n\r\nconst ProfileContainer: React.FC<PropsType> = (props) => {\r\n\r\n    const {\r\n        profile\r\n    } = useSelector(profilePage)\r\n\r\n\r\n    const dispatch: AppDispatch = useDispatch();\r\n\r\n\r\n    useEffect(() => {\r\n        let userId = props.match.params.userId;\r\n        if (!userId) {\r\n            userId = '2';\r\n        }\r\n        dispatch(getUserProfile(userId))\r\n\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <Profile profile={profile}/>\r\n    );\r\n};\r\n\r\n\r\n// export const ProfileRedirect = withRouter(WithAuthRedirect(ProfileContainer))\r\n\r\nexport default compose<React.ComponentType>(withRouter)(ProfileContainer);\r\n","import React from \"react\";\r\n\r\nexport const Login:React.FC = () => {\r\n    return(\r\n        <h1>LOGIN</h1>\r\n    )\r\n}","import React from 'react';\nimport './App.css';\nimport {Navbar} from \"./components/Navbar/Navbar\";\nimport {BrowserRouter, Route} from 'react-router-dom';\nimport {UsersContainer} from \"./components/Users/UsersContainer\";\nimport {HeaderContainer} from \"./components/Header/HeaderContainer\";\nimport {Dialogs} from \"./components/Dialogs/Dialogs\";\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport {Login} from \"./components/Login/Login\";\n\n\nconst App: React.FC = () => {\n\n    // const state = props.store.getState();\n\n    return (\n        <BrowserRouter>\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <Route path='/dialogs' render={() => <Dialogs/>}/>\n                    <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\n                    {/*<Route path='/news' render={() => <News/>}/>*/}\n                    {/*<Route path='/music' render={() => <Music/>}/>*/}\n                    {/*<Route path='/settings' render={() => <Settings/>}/>*/}\n                    <Route path='/users' render={() => <UsersContainer/>}/>\n                    <Route path='/login' render={() => <Login/>}/>\n                </div>\n            </div>\n        </BrowserRouter>\n\n    );\n}\n\nexport default App;\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {profileReducer} from \"./profile-reducer\";\r\nimport {dialogsReducer} from \"./dialogs-reducer\";\r\nimport {usersReducer} from \"./users-reducer\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk'\r\n\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer\r\n});\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer> ;\r\n\r\n\r\n\r\nexport let store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\n\r\n// @ts-ignore\r\nwindow.store = store;\r\n","import reportWebVitals from './reportWebVitals';\nimport ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport App from \"./App\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport {store} from './redux/redux-store'\n\n\nReactDOM.render(\n    <BrowserRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </BrowserRouter>,\n    document.getElementById('root')\n);\n\n\n//API\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}