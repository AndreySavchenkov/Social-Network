{"version":3,"sources":["components/Users/users.module.scss","components/Navbar/Navbar.module.scss","components/Dialogs/Dialogs.module.scss","components/Profile/ProfileInfo/ProfileInfo.module.scss","components/Profile/MyPosts/MyPosts.module.scss","components/Profile/MyPosts/Post/Post.module.scss","components/Users/UsersSearchForm.module.scss","components/Header/Header.module.scss","components/Dialogs/DialogItem/DialogItem.module.scss","components/Dialogs/Message/Message.module.scss","components/Profile/Profile.module.scss","reportWebVitals.ts","components/Navbar/Navbar.tsx","api/api.ts","redux/users-reducer.tsx","components/Users/UsersSearchForm.tsx","components/Users/Users.tsx","assets/images/userImage.png","assets/images/preloader.svg","components/common/Preloader/Preloader.tsx","redux/selectors.ts","components/Users/UsersContainer.tsx","assets/images/turtleLogo.svg","components/Header/Header.tsx","redux/auth-reducer.tsx","components/Header/HeaderContainer.tsx","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Message/Message.tsx","redux/dialogs-reducer.tsx","components/Dialogs/Dialogs.tsx","hoc/WithAuthRedirect.tsx","redux/profile-reducer.tsx","components/Profile/ProfileInfo/ProfileStatus.tsx","assets/images/ninjaPicturejpg.jpg","components/Profile/ProfileInfo/ProfileInfo.tsx","assets/images/avatarForMessage.jpeg","components/Profile/MyPosts/Post/Post.tsx","assets/images/heart.png","components/Profile/MyPosts/MyPosts.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Login/Login.tsx","App.tsx","redux/redux-store.tsx","index.tsx"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","React","memo","className","s","nav","item","active","to","activeClassName","activeLink","instance","axios","create","baseURL","withCredentials","headers","usersAPI","currentPage","pageSize","term","friend","get","response","data","id","post","delete","userId","console","log","profileAPI","getProfile","getStatus","updateStatus","status","put","authAPI","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","SET_FILTER","initialState","users","totalUsersCount","isFetching","followingInProgress","filter","toggleIsFetching","type","toggleIsFollowing","getUsers","dispatch","getState","payload","setFilter","items","totalCount","getUnfollow","resultCode","unfollow","getFollow","follow","UsersSearchForm","props","initialValues","validate","values","onSubmit","setSubmitting","onFilterChanged","isSubmitting","style","container","inputContainer","name","as","value","disabled","Users","useDispatch","thunkDispatch","pages","Math","ceil","i","push","styles","usersContainer","usersNumbersPages","map","p","selectedPage","onClick","onPageChanged","usersWithServer","u","userWithServer","containerPhotoFollow","src","photos","small","photo","alt","followed","some","containerInfo","Preloader","preloader","dialogsPage","state","dialogPage","auth","profilePage","usersPage","UsersContainer","useSelector","useEffect","pageNumber","Header","header","logoTurtle","loginBlock","isAuth","login","SET_USER_DATA","email","getAuthUserData","setAuthUserData","HeaderContainer","DialogItem","path","dialog","activeStyle","fontWeight","color","Message","message","UPDATE_NEW_MESSAGE_BODY","SEND_MESSAGE","messages","dialogs","newMessageBody","Dialogs","dialogsElements","d","messagesElements","m","wrapper","dialogs_items","messageInput","area","onChange","e","body","target","updateNewMessageBodyCreator","placeholder","button","compose","Component","ADD_POST","UPDATE_NEW_POST_TEXT","SET_USER_PROFILE","SET_STATUS","posts","likesCount","newPostText","profile","aboutMe","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","lookingForAJob","lookingForAJobDescription","fullName","large","setStatus","getUserProfile","ProfileStatus","useState","editMode","setEditMode","localStatus","setLocalStatus","toggleEditMode","onDoubleClick","autoFocus","onBlur","currentTarget","ProfileInfo","background","backgroundImage","ninjaTurtle","topImage","descriptionBlock","infoContainer","imageContainer","Post","textContainer","avatar","text","likeContainer","MyPosts","postsElements","newPostElement","createRef","postsBlock","createMessageBlock","current","newText","ref","title","Profile","ProfileContainer","match","params","withRouter","Login","App","render","rootReducer","combineReducers","action","newPost","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.e3e570b4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersContainer\":\"users_usersContainer__2SGgg\",\"usersNumbersPages\":\"users_usersNumbersPages__3nfhX\",\"selectedPage\":\"users_selectedPage__3t3dP\",\"usersWithServer\":\"users_usersWithServer__3CSqA\",\"userWithServer\":\"users_userWithServer__3yXHI\",\"containerPhotoFollow\":\"users_containerPhotoFollow__2zjVW\",\"photo\":\"users_photo__3PE1M\",\"containerInfo\":\"users_containerInfo__3h-tK\",\"name\":\"users_name__3O0tb\",\"status\":\"users_status__1-tQn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3MASN\",\"item\":\"Navbar_item__3mfJg\",\"activeLink\":\"Navbar_activeLink__14poS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Dialogs_wrapper__1Wejw\",\"dialogs\":\"Dialogs_dialogs__321Jo\",\"dialogs_items\":\"Dialogs_dialogs_items__2_GC5\",\"active\":\"Dialogs_active__2xpQY\",\"messages\":\"Dialogs_messages__27WLr\",\"message\":\"Dialogs_message__1kkub\",\"messageInput\":\"Dialogs_messageInput__uEUhK\",\"area\":\"Dialogs_area__28y5Z\",\"button\":\"Dialogs_button__1YEK6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ProfileInfo_wrapper__3JcJj\",\"topImage\":\"ProfileInfo_topImage__3mi7a\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3VFyN\",\"infoContainer\":\"ProfileInfo_infoContainer__2JtOK\",\"imageContainer\":\"ProfileInfo_imageContainer__2QcZB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2gOwR\",\"createMessageBlock\":\"MyPosts_createMessageBlock__1dwXE\",\"title\":\"MyPosts_title__1ZTMv\",\"posts\":\"MyPosts_posts__2KkyO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1gj9q\",\"textContainer\":\"Post_textContainer__3UPYa\",\"text\":\"Post_text__rr4Le\",\"likeContainer\":\"Post_likeContainer__3IslR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UsersSearchForm_container__oJDnO\",\"inputContainer\":\"UsersSearchForm_inputContainer__2CYHz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__16z1Y\",\"loginBlock\":\"Header_loginBlock__3aNS2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__3ZBq0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Message_dialog__3Q_6q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Profile_container__-3iE8\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './Navbar.module.scss';\r\n\r\n\r\nexport const Navbar: React.FC = React.memo(() => {\r\n\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/dialogs' activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            {/*<div className={s.item}>*/}\r\n            {/*    <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>*/}\r\n            {/*</div>*/}\r\n            {/*<div className={s.item}>*/}\r\n            {/*    <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>*/}\r\n            {/*</div>*/}\r\n            {/*<div className={s.item}>*/}\r\n            {/*    <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>*/}\r\n            {/*</div>*/}\r\n            <div className={s.item}>\r\n                <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n        </nav>\r\n    );\r\n})\r\n\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY':'8dabf8d5-133c-401a-b761-a0dd6d5b8f9a'\r\n    },\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage:number = 1, pageSize: number = 10, term: string = '', friend: null | boolean = null)  {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}&term=${term}` + (friend === null ? '' : `&friend=${friend}`)).then(response => response.data)\r\n    },\r\n    follow(id: number){\r\n        return instance.post(`follow/${id}`)\r\n    },\r\n    unfollow(id: number){\r\n        return instance.delete(`follow/${id}`)\r\n    },\r\n    getProfile(userId: string){\r\n        console.log('Obsolete method. Please use profileAPI object')\r\n      return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: string){\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus(userId: string){\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status: string){\r\n        return instance.put(`profile/status/`, {status: status})\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    }\r\n}\r\n\r\n\r\n\r\n","import {usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {AppStateType} from \"./redux-store\";\r\n\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\nconst SET_FILTER = 'SET_FILTER'\r\n\r\nexport type usersReducerActionsTypes = ReturnType<typeof follow>\r\n    | ReturnType<typeof unfollow>\r\n    | ReturnType<typeof setUsers>\r\n    | ReturnType<typeof setCurrentPage>\r\n    | ReturnType<typeof setTotalUsersCount>\r\n    | ReturnType<typeof toggleIsFetching>\r\n    | ReturnType<typeof toggleIsFollowing>\r\n    | ReturnType<typeof setFilter>\r\n\r\n\r\nexport type usersType = {\r\n    users: Array<userType>,\r\n    pageSize: number,\r\n    totalUsersCount: number,\r\n    currentPage: number,\r\n    isFetching: boolean,\r\n    followingInProgress: Array<number>,\r\n    filter: fiterType,\r\n}\r\n\r\nexport type userType = {\r\n    id: number,\r\n    photos: photosType,\r\n    name: string,\r\n    status: string,\r\n    followed: boolean,\r\n    location: userLocationType,\r\n}\r\n\r\nexport type photosType = {\r\n    small?: string,\r\n    large?: string\r\n}\r\n\r\nexport type userLocationType = {\r\n    country: string,\r\n    city: string,\r\n}\r\n\r\nexport type fiterType = {\r\n    term: string\r\n    friend: null | boolean\r\n}\r\n\r\nlet initialState: usersType = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [2,3],\r\n    filter: {\r\n        term: '',\r\n        friend: null as null | boolean\r\n    }\r\n}\r\n\r\nexport const usersReducer = (state: usersType = initialState, action: usersReducerActionsTypes) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_FILTER:\r\n            return {...state, filter: action.payload}\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId] :\r\n                    state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const follow = (userId: number) => ({type: FOLLOW, userId} as const)\r\nexport const unfollow = (userId: number) => ({type: UNFOLLOW, userId} as const)\r\nexport const setUsers = (users: Array<userType>) => ({type: SET_USERS, users} as const)\r\nexport const setCurrentPage = (currentPage: number) => ({type: SET_CURRENT_PAGE, currentPage} as const)\r\nexport const setFilter = (filter: fiterType) => ({type: SET_FILTER, payload: filter } as const)\r\nexport const setTotalUsersCount = (totalUsersCount: number) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount} as const)\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: TOGGLE_IS_FETCHING, isFetching} as const)\r\nexport const toggleIsFollowing = (isFetching: boolean, userId: number) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching, userId\r\n} as const)\r\n\r\ntype DispatchType = Dispatch<usersReducerActionsTypes>\r\ntype GetStateType = () => AppStateType\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number, filter: fiterType) => {\r\n    return (dispatch: DispatchType, getState: GetStateType) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setFilter(filter));\r\n        usersAPI.getUsers(currentPage, pageSize, filter.term, filter.friend).then(data => {\r\n            dispatch(toggleIsFetching(false));\r\n            dispatch(setUsers(data.items))\r\n            dispatch(setTotalUsersCount(data.totalCount))\r\n        })\r\n    }\r\n}\r\n\r\nexport const getUnfollow = (userId: number) => {\r\n    return (dispatch: DispatchType, getState: GetStateType) => {\r\n        dispatch(toggleIsFollowing(true, userId))\r\n        usersAPI.unfollow(userId).then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(unfollow(userId))\r\n            }\r\n            dispatch(toggleIsFollowing(false, userId))\r\n        })\r\n    }\r\n};\r\n\r\nexport const getFollow = (userId: number) => {\r\n    return (dispatch: DispatchType, getState: GetStateType) => {\r\n        dispatch(toggleIsFollowing(true, userId))\r\n        usersAPI.follow(userId).then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(follow(userId))\r\n            }\r\n            dispatch(toggleIsFollowing(false, userId))\r\n        })\r\n    }\r\n}","import {Field, Form, Formik} from \"formik\";\r\nimport React from \"react\";\r\nimport {fiterType} from \"../../redux/users-reducer\";\r\nimport style from './UsersSearchForm.module.scss';\r\n\r\ntype FormType = {\r\n    term: string,\r\n    friend: 'true' | 'false' | 'null'\r\n}\r\n\r\ntype usersSearchFormType = {\r\n    onFilterChanged: (filter: fiterType) => void\r\n}\r\n\r\nexport const UsersSearchForm: React.FC<usersSearchFormType> = React.memo((props) => {\r\n    return (\r\n        <div >\r\n            <Formik\r\n                initialValues={{term: '', friend: null}}\r\n                validate={values => {\r\n                    const errors = {};\r\n                    return errors;\r\n                }}\r\n                //@ts-ignore\r\n                onSubmit={(values: FormType, {setSubmitting}) => {\r\n                    const filter:fiterType = {\r\n                        term: values.term,\r\n                        friend: values.friend === 'null' ? null : values.friend === 'true' ? true : false\r\n                    }\r\n                    props.onFilterChanged(filter)\r\n                    setSubmitting(false)\r\n                }}\r\n            >\r\n                {({isSubmitting}) => (\r\n                    <Form className={style.container}>\r\n                        <div className={style.inputContainer}>\r\n                            <Field type=\"text\" name=\"term\"/>\r\n                            <Field name=\"friend\" as=\"select\">\r\n                                <option value=\"null\">All</option>\r\n                                <option value=\"true\">Only followed</option>\r\n                                <option value=\"false\">Only unfollowed</option>\r\n                            </Field>\r\n                        </div>\r\n                        <button type=\"submit\" disabled={isSubmitting}>\r\n                            Find\r\n                        </button>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </div>\r\n    )\r\n})","import React from \"react\";\r\nimport styles from \"./users.module.scss\";\r\nimport userPhoto from \"../../assets/images/userImage.png\";\r\nimport {fiterType, getFollow, getUnfollow, usersReducerActionsTypes, userType} from \"../../redux/users-reducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Dispatch} from \"redux\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {UsersSearchForm} from \"./UsersSearchForm\";\r\n\r\nexport type UsersType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    users: Array<userType>\r\n    followingInProgress: Array<number>\r\n    onPageChanged: (pageNumber: number) => void\r\n    onFilterChanged: (filter: fiterType) => void\r\n}\r\n\r\nexport const Users: React.FC<UsersType> = React.memo((props) => {\r\n\r\n    const dispatch = useDispatch<Dispatch<usersReducerActionsTypes>>()\r\n\r\n    type appDispatch = ThunkDispatch<AppStateType, any, usersReducerActionsTypes>\r\n\r\n    const thunkDispatch: appDispatch = useDispatch();\r\n\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    //pagesCount (i <= pagesCount)\r\n    for (let i = 1; i <= 10; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={styles.usersContainer}>\r\n            <UsersSearchForm onFilterChanged={props.onFilterChanged}/>\r\n\r\n            <div className={styles.usersNumbersPages}>\r\n                {pages.map(p => <div className={props.currentPage === p ? styles.selectedPage : ''}\r\n                                     onClick={() => {\r\n                                         props.onPageChanged(p)\r\n                                     }}>{p}</div>)}\r\n            </div>\r\n\r\n            <div className={styles.usersWithServer}>\r\n                {\r\n                    props.users.map((u =>\r\n                        <div className={styles.userWithServer} key={u.id}>\r\n                            <div className={styles.containerPhotoFollow}>\r\n                                <div>\r\n                                    <NavLink to={'/profile/' + u.id}>\r\n                                        <img src={u.photos.small !== null ? u.photos.small : userPhoto}\r\n                                             className={styles.photo}\r\n                                             alt={'avatar'}/>\r\n                                    </NavLink>\r\n                                </div>\r\n                                <div>\r\n                                    {u.followed ? <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                                          onClick={() => {\r\n                                                              thunkDispatch(getUnfollow(u.id))\r\n                                                          }}>Unfollow</button>\r\n                                        : <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                                  onClick={() => {\r\n                                                      thunkDispatch(getFollow(u.id))\r\n                                                  }}>Follow</button>}\r\n                                </div>\r\n                            </div>\r\n                            <div className={styles.containerInfo}>\r\n                                <div className={styles.name}><span>Name: </span>{u.name}</div>\r\n                                <div className={styles.status}><span>Status: </span>{u.status}</div>\r\n                            </div>\r\n                        </div>))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\n\r\n\r\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/preloader.b767aab4.svg\";","import React from \"react\";\r\nimport preloader from \"../../../assets/images/preloader.svg\";\r\n\r\nexport const Preloader: React.FC = React.memo(() => {\r\n    return <div>\r\n        <img src={preloader} alt={'picture show when download app'}/>\r\n    </div>\r\n})","import {AppStateType} from \"./redux-store\";\r\n\r\nexport const dialogsPage = (state: AppStateType) => state.dialogPage\r\nexport const auth = (state: AppStateType) => state.auth\r\nexport const profilePage = (state: AppStateType) => state.profilePage\r\nexport const usersPage = (state: AppStateType) => state.usersPage\r\n","import React, {useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {fiterType, getUsers, usersReducerActionsTypes} from \"../../redux/users-reducer\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../common/Preloader/Preloader\";\r\nimport {usersPage} from \"../../redux/selectors\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\n\r\n\r\nexport const UsersContainer: React.FC = React.memo(() => {\r\n\r\n    const {\r\n        users,\r\n        pageSize,\r\n        totalUsersCount,\r\n        currentPage,\r\n        isFetching,\r\n        followingInProgress,\r\n        filter\r\n    } = useSelector(usersPage)\r\n\r\n    type appDispatch = ThunkDispatch<AppStateType, any, usersReducerActionsTypes>\r\n\r\n    const thunkDispatch: appDispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        thunkDispatch(getUsers(currentPage, pageSize, filter))\r\n    }, [])\r\n\r\n   const onPageChanged = (pageNumber: number) => {\r\n        thunkDispatch(getUsers(pageNumber, pageSize, filter))\r\n\r\n    }\r\n\r\n    const onFilterChanged = (filter: fiterType) => {\r\n        thunkDispatch(getUsers(1, pageSize, filter))\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return <>\r\n        {isFetching ?\r\n            <Preloader/> : null}\r\n        <Users totalUsersCount={totalUsersCount}\r\n               pageSize={pageSize}\r\n               currentPage={currentPage}\r\n               users={users}\r\n               onPageChanged={onPageChanged}\r\n               followingInProgress={followingInProgress}\r\n               onFilterChanged={onFilterChanged}\r\n        />\r\n    </>\r\n})\r\n","export default __webpack_public_path__ + \"static/media/turtleLogo.519ef8c3.svg\";","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './Header.module.scss';\r\nimport logoTurtle from './../../assets/images/turtleLogo.svg';\r\n\r\ntype HeaderPropsType = {\r\n    login: string,\r\n    isAuth: boolean\r\n}\r\n\r\nconst Header: React.FC<HeaderPropsType> = React.memo((props) => {\r\n\r\n    return (\r\n        <header className={s.header}>\r\n            <img\r\n                src={logoTurtle}\r\n                alt=\"\"/>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth ? props.login : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    );\r\n})\r\n\r\nexport default Header;","import {authAPI} from \"../api/api\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nexport type authReducerActionsTypes = ReturnType<typeof setAuthUserData>\r\n\r\nexport type authType = {\r\n    id: number,\r\n    email: string,\r\n    login: string\r\n    isAuth: boolean\r\n}\r\n\r\nlet initialState: authType = {\r\n    id: 2,\r\n    email: 'blabla@bla.bla',\r\n    login: 'samurai',\r\n    isAuth: false,\r\n}\r\n\r\nexport const authReducer = (state: authType = initialState, action: authReducerActionsTypes) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n                isAuth: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (id: number, email: string, login: string) => ({\r\n    type: SET_USER_DATA, data: {\r\n        id,\r\n        email,\r\n        login\r\n    }\r\n\r\n} as const)\r\n\r\nexport const getAuthUserData = () => (dispatch: any) => {\r\n    authAPI.me().then(response => {\r\n        if(response.data.resultCode === 0) {\r\n            let {id, email,login} = response.data.data;\r\n            dispatch(setAuthUserData(id, email, login))\r\n        }\r\n    });\r\n}\r\n\r\n\r\n","import React, {useEffect} from \"react\";\r\nimport Header from \"./Header\";\r\nimport {authReducerActionsTypes, getAuthUserData} from \"../../redux/auth-reducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {auth} from \"../../redux/selectors\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\ntype AppDispatch = ThunkDispatch<AppStateType, any, authReducerActionsTypes>\r\n\r\nexport const HeaderContainer: React.FC = React.memo(() => {\r\n\r\n    const dispatch:AppDispatch = useDispatch();\r\n\r\n    const {\r\n        isAuth,\r\n        login,\r\n    } = useSelector(auth)\r\n\r\n    useEffect(() => {\r\n        dispatch(getAuthUserData())\r\n    }, [])\r\n\r\n    return (\r\n        <Header login={login} isAuth={isAuth}/>\r\n    );\r\n})\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './../DialogItem/DialogItem.module.scss';\r\n\r\ntype dialogItemPropsType = {\r\n    name: string,\r\n    id: number\r\n}\r\n\r\nexport const DialogItem: React.FC<dialogItemPropsType> = React.memo((props) => {\r\n\r\n    let path = '/dialogs/' + props.id\r\n\r\n    return (\r\n        <nav className={s.dialog}>\r\n            <NavLink activeStyle={{\r\n                fontWeight: \"bold\",\r\n                color: \"#FDFDFF\"\r\n            }} to={path}>{props.name}</NavLink>\r\n        </nav>\r\n    )\r\n})\r\n\r\n\r\n","import React from \"react\";\r\nimport s from './Message.module.scss'\r\n\r\n\r\ntype messagePropsType = {\r\n    message: string\r\n}\r\n\r\nexport const Message: React.FC<messagePropsType> = React.memo((props) => {\r\n    return (\r\n        <div className={s.dialog}>\r\n            {props.message}\r\n        </div>\r\n    )\r\n})\r\n\r\n\r\n\r\n","import {addPostAC, updateNewPostTextAC} from \"./profile-reducer\";\r\n\r\nconst UPDATE_NEW_MESSAGE_BODY = 'UPDATE_NEW_MESSAGE_BODY';\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nexport type ActionsTypes = ReturnType<typeof addPostAC>\r\n    | ReturnType<typeof updateNewPostTextAC>\r\n    | ReturnType<typeof sendMessageCreator>\r\n    | ReturnType<typeof updateNewMessageBodyCreator>\r\n\r\nexport type DialogPageType = {\r\n    messages: Array<MessageType>,\r\n    dialogs: Array<DialogType>,\r\n    newMessageBody: string,\r\n}\r\nexport type MessageType = {\r\n    id: number,\r\n    message: string,\r\n}\r\nexport type DialogType = {\r\n    id: number,\r\n    name: string,\r\n}\r\n\r\n\r\nlet initialState: DialogPageType = {\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How are you?'},\r\n        {id: 3, message: 'I want to work'},\r\n        {id: 4, message: \"I'm fine\"},\r\n        {id: 5, message: \"It's god!\"},\r\n    ],\r\n    dialogs: [\r\n        {id: 1, name: 'Dimuch'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Zina'},\r\n        {id: 4, name: 'Ira'},\r\n        {id: 5, name: 'Marat'},\r\n    ],\r\n    newMessageBody: '',\r\n}\r\n\r\nexport const dialogsReducer = (state: DialogPageType = initialState, action: ActionsTypes): DialogPageType => {\r\n\r\n\r\n    switch (action.type) {\r\n        case UPDATE_NEW_MESSAGE_BODY:\r\n            return {\r\n                ...state,\r\n                newMessageBody: action.body,\r\n            };\r\n        case SEND_MESSAGE:\r\n            let body = state.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body}],\r\n                newMessageBody: '',\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = () => ({type: SEND_MESSAGE} as const);\r\nexport const updateNewMessageBodyCreator = (body: string) => ({type: UPDATE_NEW_MESSAGE_BODY, body: body} as const);","import React, {ChangeEvent} from \"react\";\r\nimport s from './Dialogs.module.scss'\r\nimport {DialogItem} from \"./DialogItem/DialogItem\";\r\nimport {Message} from \"./Message/Message\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {compose, Dispatch} from \"redux\";\r\nimport {ActionsTypes, sendMessageCreator, updateNewMessageBodyCreator} from \"../../redux/dialogs-reducer\";\r\nimport {dialogsPage} from \"../../redux/selectors\";\r\nimport {WithAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\n\r\n\r\nexport const Dialogs: React.FC = React.memo(() => {\r\n\r\n    const dispatch = useDispatch<Dispatch<ActionsTypes>>()\r\n\r\n    const {\r\n        messages,\r\n        dialogs,\r\n        newMessageBody,\r\n    } = useSelector(dialogsPage)\r\n\r\n\r\n    let onSendMessageClick = () => {\r\n        dispatch(sendMessageCreator())\r\n    }\r\n\r\n    let onNewMessageChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n        let body = e.target.value;\r\n        dispatch(updateNewMessageBodyCreator(body));\r\n    }\r\n\r\n    let dialogsElements = dialogs.map((d: { name: string; id: number; }) => <DialogItem name={d.name} key={d.id}\r\n                                                                                        id={d.id}/>)\r\n    let messagesElements = messages.map((m: { message: string; }) => <Message message={m.message}/>)\r\n\r\n\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <div className={s.dialogs}>\r\n                <div className={s.dialogs_items}>\r\n                    {dialogsElements}\r\n                </div>\r\n                <div className={s.messages}>\r\n                    {messagesElements}\r\n                </div>\r\n            </div>\r\n            <div className={s.messageInput}>\r\n                <textarea className={s.area}\r\n                          onChange={onNewMessageChange}\r\n                          value={newMessageBody}\r\n                          placeholder='Enter your message...'\r\n                >\r\n                </textarea>\r\n                <button className={s.button} onClick={onSendMessageClick}>Send</button>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n})\r\n\r\nexport default compose<React.ComponentType>(WithAuthRedirect)(Dialogs);\r\n\r\n","import {Redirect} from \"react-router-dom\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {auth} from \"../redux/selectors\";\r\nimport React, {ComponentType} from \"react\";\r\n\r\nexport function WithAuthRedirect  <T>(Component: ComponentType<T>)  {\r\n\r\n    let RedirectComponent:React.FC = React.memo((props) => {\r\n\r\n        const {\r\n            isAuth\r\n        } = useSelector(auth)\r\n\r\n        if (!isAuth) return <Redirect to={'/login'}/>\r\n        return <Component {...props as T}/>\r\n    })\r\n\r\n    return RedirectComponent\r\n}","import {sendMessageCreator, updateNewMessageBodyCreator} from \"./dialogs-reducer\";\r\nimport {profileAPI, usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {AppStateType} from \"./redux-store\";\r\n\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\n\r\nexport type ProfileActionsTypes = ReturnType<typeof addPostAC>\r\n    | ReturnType<typeof updateNewPostTextAC>\r\n    | ReturnType<typeof sendMessageCreator>\r\n    | ReturnType<typeof updateNewMessageBodyCreator>\r\n    | ReturnType<typeof setUserProfile>\r\n    | ReturnType<typeof setStatus>\r\n\r\nexport type ProfilePageType = {\r\n    posts: Array<PostType>,\r\n    newPostText: string,\r\n    profile: ProfileType,\r\n    status: string,\r\n}\r\nexport type PostType = {\r\n    id: number,\r\n    message: string,\r\n    likesCount: number,\r\n}\r\nexport type ProfileType = {\r\n    aboutMe: string,\r\n    contacts: {\r\n        facebook: string,\r\n        website: null,\r\n        vk: string,\r\n        twitter: string,\r\n        instagram: string,\r\n        youtube: null,\r\n        github: string,\r\n        mainLink: null\r\n    },\r\n    lookingForAJob: true,\r\n    lookingForAJobDescription: string,\r\n    fullName: string,\r\n    userId: string,\r\n    photos: {\r\n        small: string,\r\n        large: string\r\n    }\r\n}\r\nlet initialState: ProfilePageType = {\r\n    posts: [\r\n        {id: 1, message: \"It's my first post\", likesCount: 722},\r\n        {id: 2, message: \"I love eating pizza and drinking Coca Cola!!!!111\", likesCount: 312},\r\n    ],\r\n    newPostText: 'it-camasutra.com',\r\n    profile: {\r\n        aboutMe: \"I'm man\",\r\n        contacts: {\r\n            facebook: \"\",\r\n            website: null,\r\n            vk: \"\",\r\n            twitter: \"\",\r\n            instagram: \"\",\r\n            youtube: null,\r\n            github: \"\",\r\n            mainLink: null\r\n        },\r\n        lookingForAJob: true,\r\n        lookingForAJobDescription: \"\",\r\n        fullName: \"Andrew Savchenkov\",\r\n        userId: \"19640\",\r\n        photos: {\r\n            small: \"\",\r\n            large: \"\"\r\n        },\r\n    },\r\n    status: '',\r\n}\r\n\r\nexport const profileReducer = (state: ProfilePageType = initialState, action: ProfileActionsTypes): ProfilePageType => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 5,\r\n                message: state.newPostText,\r\n                likesCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: '',\r\n            };\r\n        case UPDATE_NEW_POST_TEXT:\r\n            return {\r\n                ...state,\r\n                newPostText: action.newText,\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostAC = () => ({type: ADD_POST} as const);\r\nexport const updateNewPostTextAC = (newText: string) => ({type: UPDATE_NEW_POST_TEXT, newText} as const);\r\nexport const setUserProfile = (profile: any) => ({type: SET_USER_PROFILE, profile} as const);\r\nexport const setStatus = (status: string) => ({type: SET_STATUS, status} as const);\r\n\r\ntype DispatchType = Dispatch<ProfileActionsTypes>\r\ntype GetStateType = () => AppStateType\r\n\r\nexport const getUserProfile = (userId: string) => (dispatch: DispatchType, getState: GetStateType) => {\r\n    usersAPI.getProfile(userId)\r\n        .then(response => {\r\n            dispatch(setUserProfile(response.data))\r\n        })\r\n}\r\n\r\nexport const getStatus = (userId: string) => (dispatch: DispatchType) => {\r\n    profileAPI.getStatus(userId)\r\n        .then(response => {\r\n            dispatch(setStatus(response.data))\r\n        })\r\n}\r\n\r\nexport const updateStatus = (status: string) => (dispatch: DispatchType) => {\r\n    profileAPI.updateStatus(status)\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setStatus(status));\r\n            }\r\n        })\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {AppDispatch} from \"../ProfileContainer\";\r\nimport {getStatus, updateStatus} from \"../../../redux/profile-reducer\";\r\n\r\ntype ProfileStatusType = {\r\n    status: string\r\n}\r\n\r\nexport const ProfileStatus: React.FC<ProfileStatusType> = React.memo((props) => {\r\n\r\n\r\n\r\n    const dispatch: AppDispatch = useDispatch();\r\n\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [localStatus, setLocalStatus] = useState(props.status)\r\n\r\n    const toggleEditMode = () => {\r\n        setEditMode(!editMode)\r\n    }\r\n\r\n    const onStatusChange = (e: any) => {\r\n        setLocalStatus(e.currentTarget.value)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        dispatch(updateStatus(localStatus))\r\n    },[localStatus])\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={toggleEditMode}>Status: {localStatus || '--------'} </span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input  autoFocus={true} onBlur={toggleEditMode} type=\"text\" value={localStatus} onChange={onStatusChange}/>\r\n            </div>\r\n            }\r\n        </div>\r\n\r\n    )\r\n})","export default __webpack_public_path__ + \"static/media/ninjaPicturejpg.3f72aba8.jpg\";","import React from \"react\";\r\nimport s from './ProfileInfo.module.scss';\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\nimport {ProfileType} from \"../../../redux/profile-reducer\";\r\nimport {ProfileStatus} from \"./ProfileStatus\";\r\nimport ninjaTurtle from './../../../assets/images/ninjaPicturejpg.jpg'\r\n\r\ntype ProfileInfoType = {\r\n    profile: ProfileType,\r\n    status: string,\r\n}\r\n\r\n\r\nconst ProfileInfo: React.FC<ProfileInfoType> = React.memo((props) => {\r\n\r\n    const background = {\r\n        backgroundImage: `url(${ninjaTurtle})`,\r\n    }\r\n\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <div className={s.topImage} style={background}>\r\n\r\n            </div>\r\n            <div className={s.descriptionBlock}>\r\n                <div className={s.infoContainer}>\r\n                    <p><span>Name:</span> {props.profile.fullName}</p>\r\n                    <p><span>Obout me:</span> {props.profile.aboutMe}</p>\r\n                    <p><span>Find:</span> {props.profile.lookingForAJobDescription}</p>\r\n                    <ProfileStatus status={props.status}/>\r\n                </div>\r\n                <div className={s.imageContainer}>\r\n                    <img src={props.profile.photos.large}/>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\n\r\nexport default ProfileInfo;","export default __webpack_public_path__ + \"static/media/avatarForMessage.2fee3635.jpeg\";","import React from \"react\";\r\nimport s from './Post.module.scss';\r\nimport avatar from './../../../../assets/images/avatarForMessage.jpeg'\r\nimport heart from './../../../../assets/images/heart.png'\r\n\r\ntype postPropsType = {\r\n    message:string,\r\n    likesCount: number\r\n}\r\n\r\nconst Post: React.FC<postPropsType> = React.memo((props) => {\r\n\r\n    return (\r\n        <div className={s.item}>\r\n            <div className={s.textContainer}>\r\n                <img src={avatar} alt=\"\"/>\r\n                <div className={s.text}>\r\n                    {props.message}\r\n                </div>\r\n            </div>\r\n            <div className={s.likeContainer}>\r\n                <span> {props.likesCount} </span> <img src={heart} alt=\"\"/>\r\n            </div>\r\n        </div>\r\n    );\r\n})\r\n\r\nexport default Post;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAASPSURBVEiJlZRbbFRFGMf/c+acOWcv3e62e7bd7W67sN3FEmtJLBeNaIwxIEZ5MUbUJsRLQgiJIimYgGh88RL1xXh5400So40+YAjwIgIhEKSUBloqVEor7bbd7v1yLjM+tYGl3dV/Mg/zzfd9v/lmvhkIIVBr+B3yPl1TTgDwN6nKlSZVGQKg6xo77nfI/fXiay4KIRBxabff6Y5yjdIzWyP++W3teoZRer6/Z5UdbXCM14uXUUclm+fXNLqIg5LukEuTKQj1Mhpf7XFKRdMu1IuvCzA5H5kqlNd+vukhz6JtQ6BRzZkWDCFUQkgQgB/AtBBitiaAEKI97PcfcCrKdkaIu2LbtN2tsWiDA5kcQaogICCgMYEiNa3egM+dseiFdS0tbCKT4WGv9+PJdPq7+3IKIZYmvcHgFzu7u/e9nEgge/cudvxx2n5jTYDmchSjqbIYLMzbecviJufWl88+Q5+LxVXBOWzDQMUw8PTAwMjQ7GzXihUwSYptCAbBLAtnZ2YQ87ACuOQZXzBw08jax7ZulRtbW0EkiZmlEnLJJJKZDM4mkzg5PW1oknS0+ojuq4AQ0vJYW9sJy7Y7x1Ip7f11UYmXVBy9PWF5VY0cemozeTIalbhl4dTQEL66NmK2MmZ4Lcn5y+zkhWmjsqkaIN07EULMnJuc7MlmCsNeSbaaNYZiGRAQla/DXfTI7+fFkcErZds0kTVNjC6k6IeBDtf+UIxs9ui9nc6GV2oCAIAR8ugjbk9PTHORdNnCSD6LbV5dtDtU9Lcl6A+DQ7asqljf3IwmVTXfvnEVDQrBnlAnZQT91fkeaNNmRX1zd6hd5Zzg0I3r6YCiSns74h4CwCNTRAjTvrl8WbgMAy+1hMz5Qkn9dX4avU4dCqF6XQCjUndcc8FFKX5bu8F775qfSfgoGqffj0+kS5at9fmD7rem7uBmuYCNHQE4JclVF6CANLsoBQAMFbLgAljnXnpjCCgKDodiXgA4lkriSKIHfaODGJifgixRrTrfA3eQt630Yl8REAzM3a12WdLzTQGscboRVjX4FBkaIQohRK0JMCHeMzjPA0CX042L+cyKgEV9uqoLLzS1IsycFEBnTUDKNM1dY1fnASBlGbiUS+NcdgELlrkiIOFwgRIgrDokJ2i8JkAIcel6KTd3p1LCtWIe77atRt/IZXxy5y9wiGr3JcmEQFdUJNzu9TUBADBeLOw8+Pfo1OMeH/ZHYvg23o1bpSIMzmsAAF1R4ZZoT11ARYjh0+nU8VPpubRMCLb4dExUSnh9ZBCVFSCUEOiyCoOLSF0AAGRsc9eBW9evnssuCADYoYfQH4mhyO1l/TkEmhSGF/Xg6f8EEEJYk5Xylj03h4f/zGcqe8OrsbHBC5+sLOtvcuBMdg4nU8mJe+33/abLiRDS2CjLA6+1hLsOR+JBVVp+T7dKBnaNDZYv5hc8QoillqsLWJRTll8NKupnH7Qngk80+qhfYQAAQwj8PDuDH2f/KU8apb6xYu6n/1VBVTXuZpnt1hW2vcDtmCJJzEdZWZfVo8fT0weFEOXqmH8BnpY3w7C0W5QAAAAASUVORK5CYII=\"","import React from \"react\";\r\nimport s from './MyPosts.module.scss';\r\nimport Post from \"./Post/Post\";\r\nimport {AppStateType} from \"../../../redux/redux-store\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Dispatch} from \"redux\";\r\nimport {addPostAC, ProfileActionsTypes, updateNewPostTextAC} from \"../../../redux/profile-reducer\";\r\n\r\n\r\n\r\n\r\nconst MyPosts: React.FC = React.memo(() => {\r\n\r\n    const state = (state:AppStateType) => state.profilePage\r\n\r\n    const {\r\n        posts,\r\n        newPostText\r\n    } = useSelector(state)\r\n\r\n    const dispatch = useDispatch<Dispatch<ProfileActionsTypes>>()\r\n\r\n    let postsElements = posts.map((p: { message: string; likesCount: number; }) => <Post message={p.message}\r\n                                                                                               likesCount={p.likesCount}/>)\r\n    let newPostElement: any = React.createRef();\r\n\r\n    let onAddPost = () => {\r\n        dispatch(addPostAC());\r\n    }\r\n\r\n    let onPostChange = () => {\r\n        let text = newPostElement.current.value;\r\n        dispatch(updateNewPostTextAC(text));\r\n    }\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <div className={s.createMessageBlock}>\r\n                <textarea onChange={onPostChange} ref={newPostElement} value={newPostText}/>\r\n                <button onClick={onAddPost}>Post</button>\r\n            </div>\r\n            <h3 className={s.title}>My Little Posts:</h3>\r\n            <div className={s.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    );\r\n})\r\n\r\nexport default MyPosts;","import React from \"react\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport {ProfileType} from \"../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts/MyPosts\";\r\nimport style from './Profile.module.scss'\r\n\r\n\r\nexport type ProfileCType = {\r\n    profile: ProfileType,\r\n    status: string\r\n}\r\n\r\n\r\nexport const Profile: React.FC<ProfileCType> = React.memo((props) => {\r\n\r\n    return (\r\n        <div className={style.container}>\r\n            <ProfileInfo profile={props.profile} status={props.status}/>\r\n            <MyPosts/>\r\n        </div>\r\n    );\r\n})","import React, {useEffect} from \"react\";\r\nimport {Profile} from \"./Profile\";\r\nimport {getStatus, getUserProfile, ProfileActionsTypes} from \"../../redux/profile-reducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {profilePage} from \"../../redux/selectors\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nexport type AppDispatch = ThunkDispatch<AppStateType, any, ProfileActionsTypes>;\r\n\r\ntype PathParamType = {\r\n    userId: string\r\n}\r\ntype PropsType = RouteComponentProps<PathParamType>\r\n\r\nconst ProfileContainer: React.FC<PropsType> = React.memo((props) => {\r\n\r\n    const {\r\n        profile, status\r\n    } = useSelector(profilePage)\r\n\r\n\r\n    const dispatch: AppDispatch = useDispatch();\r\n\r\n\r\n    useEffect(() => {\r\n        let userId = props.match.params.userId;\r\n        if (!userId) {\r\n            userId = '19640';\r\n        }\r\n        dispatch(getUserProfile(userId))\r\n        dispatch(getStatus(userId))\r\n\r\n    })\r\n\r\n\r\n\r\n\r\n    return (\r\n        <Profile profile={profile} status={status}/>\r\n    );\r\n})\r\n\r\n\r\nexport default compose<React.ComponentType>(withRouter)(ProfileContainer);\r\n","import React from \"react\";\r\n\r\nexport const Login: React.FC = React.memo(() => {\r\n    return (\r\n        <h1>LOGIN</h1>\r\n    )\r\n})","import React from 'react';\nimport './App.scss';\nimport {Navbar} from \"./components/Navbar/Navbar\";\nimport {BrowserRouter, Route} from 'react-router-dom';\nimport {UsersContainer} from \"./components/Users/UsersContainer\";\nimport {HeaderContainer} from \"./components/Header/HeaderContainer\";\nimport {Dialogs} from \"./components/Dialogs/Dialogs\";\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport {Login} from \"./components/Login/Login\";\n\n\nconst App: React.FC = React.memo(() => {\n\n    // const state = props.store.getState();\n\n    return (\n        <BrowserRouter>\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <div className='app-inner'>\n                    <Navbar/>\n                    <div className='app-wrapper-content'>\n                        <Route path='/dialogs' render={() => <Dialogs/>}/>\n                        <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\n                        <Route path='/users' render={() => <UsersContainer/>}/>\n                        <Route path='/login' render={() => <Login/>}/>\n                    </div>\n                </div>\n            </div>\n        </BrowserRouter>\n\n    );\n})\n\nexport default App;\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {profileReducer} from \"./profile-reducer\";\r\nimport {dialogsReducer} from \"./dialogs-reducer\";\r\nimport {usersReducer} from \"./users-reducer\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk'\r\n\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer\r\n});\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer> ;\r\n\r\n\r\n\r\nexport let store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\n\r\n// @ts-ignore\r\nwindow.store = store;\r\n","import reportWebVitals from './reportWebVitals';\nimport ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport App from \"./App\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport {store} from './redux/redux-store'\n\n\nReactDOM.render(\n    <BrowserRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </BrowserRouter>,\n    document.getElementById('root')\n);\n\n\n//API\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}